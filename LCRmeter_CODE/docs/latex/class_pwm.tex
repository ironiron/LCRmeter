\hypertarget{class_pwm}{}\section{Pwm$<$ T, width, chn $>$ Class Template Reference}
\label{class_pwm}\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}


This is intended to generate waveform on desired Timer channel.  




{\ttfamily \#include $<$Pwm.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_pwm_a8545359cb048df5d286dd946b78af3a4}{Pwm}} (T $\ast$tim, width period=100)
\begin{DoxyCompactList}\small\item\em Constructor. Only initialise variables. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_a0d63f768270057d153984dec2a64c3e2}{Set\+\_\+\+Frequency}} (uint32\+\_\+t frequency)
\begin{DoxyCompactList}\small\item\em This function computes optimal prescaler and A\+RR registers for desired frequency. Ensuring at least 1\% of duty resolution. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_a00bcd1145b497918ad9bb06e6b8c35e2}{Set\+\_\+\+Duty}} (uint8\+\_\+t \mbox{\hyperlink{class_pwm_af344531820202020c97a8421ed5d5e2a}{duty}})
\begin{DoxyCompactList}\small\item\em This function calculates compare registers for desired duty. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_a2a485a88f3146158b18c5ce918dcdcf4}{Enable}} (void)
\begin{DoxyCompactList}\small\item\em Enables HW timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_a0b9dedff1fba850c471de575871ab2e3}{Disable}} (void)
\begin{DoxyCompactList}\small\item\em Disables HW timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_a174796ea6d1f39c67753331ad9c93c6d}{Initialise}} (void)
\begin{DoxyCompactList}\small\item\em Initialise HW. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_acfe533cd832faefcec2c86a473e4f130}{Set\+\_\+\+Prescaler}} (width)
\begin{DoxyCompactList}\small\item\em Sets only timer\textquotesingle{}s prescaler register. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_aa258a3d3e68ac1294d13b0393cf9d168}{Set\+\_\+\+Counter}} (width)
\begin{DoxyCompactList}\small\item\em Sets timer\textquotesingle{}s counter register. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pwm_a10bd78a2a720708e59b73f18af51edc2}{Set\+\_\+\+Compare}} (width, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Sets timer\textquotesingle{}s compare register. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{class_pwm_aac8124330f23ecedd57c709f8834cb4a}{Get\+\_\+\+Clock}} (void)
\begin{DoxyCompactList}\small\item\em Gets base frequency of timer clock. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
T $\ast$ \mbox{\hyperlink{class_pwm_a2aa2d31eb683e2100620809fa253a25a}{\+\_\+timer}}
\begin{DoxyCompactList}\small\item\em pointer to template timer struct \end{DoxyCompactList}\item 
const uint8\+\_\+t \mbox{\hyperlink{class_pwm_af854993c7cdd5069144ec812e976ecec}{channel}} =chn
\begin{DoxyCompactList}\small\item\em channel of timer on which P\+WM will be generated \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{class_pwm_af344531820202020c97a8421ed5d5e2a}{duty}}
\begin{DoxyCompactList}\small\item\em duty of the P\+WM \end{DoxyCompactList}\item 
const int \mbox{\hyperlink{class_pwm_a427493526d0462d93d2724109c1be87d}{cnt\+\_\+initialvalue}}
\begin{DoxyCompactList}\small\item\em initial value of counter register used for calculating frequency \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_pwm_aff1e9a509192f990362149d140c088c5}{cnt}} =\mbox{\hyperlink{class_pwm_a427493526d0462d93d2724109c1be87d}{cnt\+\_\+initialvalue}}
\begin{DoxyCompactList}\small\item\em shadow variable of timers counter register \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class T, typename width, uint8\+\_\+t chn$>$\newline
class Pwm$<$ T, width, chn $>$}

This is intended to generate waveform on desired Timer channel. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & timer structure \\
\hline
{\em width} & base resolution of timer(uint16\+\_\+t etc.) \\
\hline
{\em chn} & timer\textquotesingle{}s channel on which will be generated signal \\
\hline
\end{DoxyTemplParams}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_pwm_a8545359cb048df5d286dd946b78af3a4}\label{class_pwm_a8545359cb048df5d286dd946b78af3a4}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Pwm@{Pwm}}
\index{Pwm@{Pwm}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Pwm()}{Pwm()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
\mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::\mbox{\hyperlink{class_pwm}{Pwm}} (\begin{DoxyParamCaption}\item[{T $\ast$}]{tim,  }\item[{width}]{period = {\ttfamily 100} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor. Only initialise variables. 


\begin{DoxyParams}{Parameters}
{\em tim} & pointer to timer structure \\
\hline
{\em period} & max counter value \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_pwm_a0b9dedff1fba850c471de575871ab2e3}\label{class_pwm_a0b9dedff1fba850c471de575871ab2e3}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Disable@{Disable}}
\index{Disable@{Disable}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Disable()}{Disable()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Disable (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Disables HW timer. 

\mbox{\Hypertarget{class_pwm_a2a485a88f3146158b18c5ce918dcdcf4}\label{class_pwm_a2a485a88f3146158b18c5ce918dcdcf4}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Enable@{Enable}}
\index{Enable@{Enable}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Enable()}{Enable()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Enable (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Enables HW timer. 

\mbox{\Hypertarget{class_pwm_aac8124330f23ecedd57c709f8834cb4a}\label{class_pwm_aac8124330f23ecedd57c709f8834cb4a}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Get\_Clock@{Get\_Clock}}
\index{Get\_Clock@{Get\_Clock}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Get\_Clock()}{Get\_Clock()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
uint32\+\_\+t \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Get\+\_\+\+Clock (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Gets base frequency of timer clock. 

\begin{DoxyReturn}{Returns}
clock value in integer 
\end{DoxyReturn}
\mbox{\Hypertarget{class_pwm_a174796ea6d1f39c67753331ad9c93c6d}\label{class_pwm_a174796ea6d1f39c67753331ad9c93c6d}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Initialise@{Initialise}}
\index{Initialise@{Initialise}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Initialise()}{Initialise()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Initialise (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialise HW. 

\mbox{\Hypertarget{class_pwm_a10bd78a2a720708e59b73f18af51edc2}\label{class_pwm_a10bd78a2a720708e59b73f18af51edc2}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Set\_Compare@{Set\_Compare}}
\index{Set\_Compare@{Set\_Compare}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Set\_Compare()}{Set\_Compare()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Set\+\_\+\+Compare (\begin{DoxyParamCaption}\item[{width}]{,  }\item[{uint8\+\_\+t}]{ }\end{DoxyParamCaption})}



Sets timer\textquotesingle{}s compare register. 


\begin{DoxyParams}{Parameters}
{\em width} & \+: prescaler to set \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_pwm_aa258a3d3e68ac1294d13b0393cf9d168}\label{class_pwm_aa258a3d3e68ac1294d13b0393cf9d168}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Set\_Counter@{Set\_Counter}}
\index{Set\_Counter@{Set\_Counter}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Set\_Counter()}{Set\_Counter()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Set\+\_\+\+Counter (\begin{DoxyParamCaption}\item[{width}]{ }\end{DoxyParamCaption})}



Sets timer\textquotesingle{}s counter register. 


\begin{DoxyParams}{Parameters}
{\em width} & \+: prescaler to set \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_pwm_a00bcd1145b497918ad9bb06e6b8c35e2}\label{class_pwm_a00bcd1145b497918ad9bb06e6b8c35e2}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Set\_Duty@{Set\_Duty}}
\index{Set\_Duty@{Set\_Duty}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Set\_Duty()}{Set\_Duty()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Set\+\_\+\+Duty (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{duty }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



This function calculates compare registers for desired duty. 


\begin{DoxyParams}{Parameters}
{\em duty} & \+: desired duty in range of 0-\/100\%. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_pwm_a0d63f768270057d153984dec2a64c3e2}\label{class_pwm_a0d63f768270057d153984dec2a64c3e2}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Set\_Frequency@{Set\_Frequency}}
\index{Set\_Frequency@{Set\_Frequency}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Set\_Frequency()}{Set\_Frequency()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Set\+\_\+\+Frequency (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{frequency }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



This function computes optimal prescaler and A\+RR registers for desired frequency. Ensuring at least 1\% of duty resolution. 


\begin{DoxyParams}{Parameters}
{\em frequency} & \+: desired frequency in int. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_pwm_acfe533cd832faefcec2c86a473e4f130}\label{class_pwm_acfe533cd832faefcec2c86a473e4f130}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!Set\_Prescaler@{Set\_Prescaler}}
\index{Set\_Prescaler@{Set\_Prescaler}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{Set\_Prescaler()}{Set\_Prescaler()}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
void \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::Set\+\_\+\+Prescaler (\begin{DoxyParamCaption}\item[{width}]{ }\end{DoxyParamCaption})}



Sets only timer\textquotesingle{}s prescaler register. 


\begin{DoxyParams}{Parameters}
{\em width} & \+: prescaler to set \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_pwm_a2aa2d31eb683e2100620809fa253a25a}\label{class_pwm_a2aa2d31eb683e2100620809fa253a25a}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!\_timer@{\_timer}}
\index{\_timer@{\_timer}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{\_timer}{\_timer}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
T$\ast$ \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::\+\_\+timer\hspace{0.3cm}{\ttfamily [private]}}



pointer to template timer struct 

\mbox{\Hypertarget{class_pwm_af854993c7cdd5069144ec812e976ecec}\label{class_pwm_af854993c7cdd5069144ec812e976ecec}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!channel@{channel}}
\index{channel@{channel}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{channel}{channel}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
const uint8\+\_\+t \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::channel =chn\hspace{0.3cm}{\ttfamily [private]}}



channel of timer on which P\+WM will be generated 

\mbox{\Hypertarget{class_pwm_aff1e9a509192f990362149d140c088c5}\label{class_pwm_aff1e9a509192f990362149d140c088c5}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!cnt@{cnt}}
\index{cnt@{cnt}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{cnt}{cnt}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
int \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::cnt =\mbox{\hyperlink{class_pwm_a427493526d0462d93d2724109c1be87d}{cnt\+\_\+initialvalue}}\hspace{0.3cm}{\ttfamily [private]}}



shadow variable of timers counter register 

\mbox{\Hypertarget{class_pwm_a427493526d0462d93d2724109c1be87d}\label{class_pwm_a427493526d0462d93d2724109c1be87d}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!cnt\_initialvalue@{cnt\_initialvalue}}
\index{cnt\_initialvalue@{cnt\_initialvalue}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{cnt\_initialvalue}{cnt\_initialvalue}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
const int \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::cnt\+\_\+initialvalue\hspace{0.3cm}{\ttfamily [private]}}



initial value of counter register used for calculating frequency 

\mbox{\Hypertarget{class_pwm_af344531820202020c97a8421ed5d5e2a}\label{class_pwm_af344531820202020c97a8421ed5d5e2a}} 
\index{Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}!duty@{duty}}
\index{duty@{duty}!Pwm$<$ T, width, chn $>$@{Pwm$<$ T, width, chn $>$}}
\subsubsection{\texorpdfstring{duty}{duty}}
{\footnotesize\ttfamily template$<$class T , typename width , uint8\+\_\+t chn$>$ \\
uint8\+\_\+t \mbox{\hyperlink{class_pwm}{Pwm}}$<$ T, width, chn $>$\+::duty\hspace{0.3cm}{\ttfamily [private]}}



duty of the P\+WM 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
D\+:/\+Projekty/reszta/\+L\+C\+Rmeter/\+L\+C\+Rmeter\+\_\+\+C\+O\+D\+E/\+Inc/\mbox{\hyperlink{_pwm_8hpp}{Pwm.\+hpp}}\end{DoxyCompactItemize}
